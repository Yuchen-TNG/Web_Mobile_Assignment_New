@model Web_Mobile_Assignment_New.Models.User

@{
    ViewData["Title"] = "User Details";
}



<h1>User Details</h1>

<div style="width:60%; margin:20px auto; font-family:Arial; text-align:center;">

    <div style="display:flex; justify-content:center; align-items:center; gap:20px; margin-bottom:20px;">
        @if (Model is Web_Mobile_Assignment_New.Models.OwnerTenant photoUser && !string.IsNullOrEmpty(photoUser.PhotoURL))
        {
            <img src="@photoUser.PhotoURL" alt="User Photo"
                 style="width:150px; height:150px; object-fit:cover; border-radius:50%;" />

            <!-- DeletePhoto function -->
            <form asp-action="DeletePhoto" method="post">
                <input type="hidden" name="email" value="@Model.Email" />
                <button type="submit"
                        style="padding:8px 15px; background:#f44336; color:white; border:none; border-radius:5px;">
                    🗑 Delete Photo
                </button>
            </form>
        }
        else
        {
            <img src="/images/photo.jpg" alt="Default Photo"
                 style="width:150px; height:150px; object-fit:cover; border-radius:50%;" />
        }

    </div>

    <!-- Update function -->
    <form asp-action="Update" method="post">
        <div style="margin-bottom:15px;">
            <label><strong>Email:</strong></label><br />
            <input asp-for="Email" readonly style="width:80%; padding:8px;" />
        </div>

        <div style="margin-bottom:15px;">
            <label><strong>Name:</strong></label><br />
            <input asp-for="Name" style="width:80%; padding:8px;" />
        </div>

        <div style="margin-bottom:15px;">
            <label><strong>Birthday:</strong></label><br />
            <input asp-for="Birthday" type="date" style="width:80%; padding:8px;" />
        </div>

        <div style="margin-bottom:15px;">
            <label><strong>Role:</strong></label><br />
            <input asp-for="Role" readonly style="width:80%; padding:8px; background:#eee;" />
        </div>

        <button type="submit" style="padding:10px 18px; background:#2196F3; color:white; border:none; border-radius:5px;">
            💾 Save Changes
        </button>
        <a asp-controller="Admin" asp-action="UserManagement"
           style="padding:10px 18px; background:#9E9E9E; color:white; border-radius:5px; text-decoration:none;">
            ⬅ Back
        </a>
    </form>

    <!-- DeleteUser function-->
    <form asp-action="DeleteUser" method="post" style="margin-top:20px;">
        <input type="hidden" name="email" value="@Model.Email" />
        <button type="submit" style="padding:10px 18px; background:#ff0000; color:white; border:none; border-radius:5px;">
            🗑 Delete User
        </button>
    </form>
</div>
